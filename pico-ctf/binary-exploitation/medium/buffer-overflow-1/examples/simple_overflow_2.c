#include <stdio.h>

#define MAX_IP_LENGTH 15

int main(void) {
  char file_name[] = "ip.txt";
  FILE* fp;
  fp = fopen(file_name, "r");

  // POTENTIAL ERROR: No check if the file was opened successfully.
  // If `fp` is NULL, it means the file could not be opened,
  // and attempting to read from a NULL pointer will cause undefined behavior.

  char buf[MAX_IP_LENGTH];
  int counter = 0;

  char ch;
  while((ch = fgetc(fp)) != EOF) {
    buf[counter++] = ch;
    // ERROR: No check to ensure `counter` does not exceed `MAX_IP_LENGTH`.
    // If the file contains more than 15 characters, this will exceed the array bounds of `buf`,
    // causing a buffer overflow and undefined behavior.
  }
  buf[counter] = '\0';

  printf("%s\n", buf);
  fclose(fp);

  return 0;
}

